<div class="ProductBoxCompact" [ngClass]="{ 'ProductBoxCompact--inBasket': productEnriched.basketEntry }">
  <a [routerLink]="productEnriched | productUrl: activeCategory" class="ProductBoxCompact-link">
    <rr-shop-image
      [images]="productEnriched.images"
      [size]="Size.Thumb200px"
      class="ProductBoxCompact-image"
    ></rr-shop-image>
    <span>{{ productEnriched.name }}</span>
  </a>

  <div class="ProductBoxCompact-price">
    {{ productEnriched.price | price }}
  </div>

  <div *ngIf="productEnriched.basketEntry" class="ProductBoxCompact-basketQuantity">
    <span>
      W koszyku: <b>{{ productEnriched.basketEntry.quantity }}</b>
    </span>
    <div>
      <rr-shop-clickable-action
        (actionClick)="quantityDecrement(productEnriched.basketEntry.id)"
        [disabled]="!productEnriched.basketEntry.isQuantityDecrementActive"
        [icon]="['fas', 'minus']"
      ></rr-shop-clickable-action>
      <rr-shop-clickable-action
        (actionClick)="quantityIncrement(productEnriched.basketEntry.id)"
        [icon]="['fas', 'plus']"
      ></rr-shop-clickable-action>
    </div>
  </div>

  <rr-shop-clickable-action
    *ngIf="!productEnriched.basketEntry"
    (actionClick)="addToBasket(productEnriched)"
    [label]="'Do koszyka'"
    [icon]="['fas', 'shopping-basket']"
  ></rr-shop-clickable-action>
</div>
