<div class="Category">
  <ng-container *ngIf="(activeCategory$ | async)?.content; else withoutContent">
    <div class="u-formatted-content" markdown [data]="(activeCategory$ | async)?.content"></div>
  </ng-container>

  <ng-template #withoutContent>
    <h2>
      {{ (activeCategory$ | async)?.name }}
    </h2>
  </ng-template>

  <ng-container *ngIf="!(activeCategory$ | async)?.isWithoutProducts">
    <div class="row" *ngIf="(productsFromActiveCategoryAndItsChildren$ | async).length; else noProducts">
      <ng-container
        *ngFor="let product of productsFromActiveCategoryAndItsChildren$ | async; trackBy: trackBy; index as index"
      >
        <rr-shop-product-box-compact
          [product]="product"
          [activeCategory]="activeCategory$ | async"
          class="col-xxs-12 col-sm-6 col-md-4"
        ></rr-shop-product-box-compact>

        <div class="Category-3ColumnsRowSeparator clearfix" *ngIf="index % 3 === 2"></div>
        <div class="Category-2ColumnsRowSeparator clearfix" *ngIf="index % 2 === 1"></div>
      </ng-container>
    </div>

    <ng-template #noProducts>
      <div class="Category-noProducts">
        Brak produkt√≥w w tej kategorii
      </div>
    </ng-template>
  </ng-container>
</div>
